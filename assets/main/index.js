window.__require=function e(t,i,o){function n(c,s){if(!i[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var d="function"==typeof __require&&__require;if(!s&&d)return d(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var u=i[c]={exports:{}};t[c][0].call(u.exports,function(e){return n(t[c][1][e]||e)},u,u.exports,e,t,i,o)}return i[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({Action:[function(e,t){"use strict";cc._RF.push(t,"dc4081GrG9H4IL7PsGEyzDL","Action");var i={actionSwing:function(e,t,i){e.stopActionByTag(800),e.stopActionByTag(801);var o=cc.repeatForever(cc.sequence(cc.moveBy(.1,cc.v2(-50,0)),cc.moveBy(.1,cc.v2(50,0)),cc.moveBy(.1,cc.v2(50,0)),cc.moveBy(.1,cc.v2(-50,0))));if(o.setTag(800),e.runAction(o),i){var n=cc.sequence(cc.delayTime(t||3),cc.callFunc(function(){i(e),e.stopActionByTag(800),e.stopActionByTag(801)}));n.setTag(801),e.runAction(n)}},repeateDo:function(e){e.node.stopActionByTag(900);var t=cc.sequence(cc.delayTime(e.intervalTime),cc.callFunc(function(){e.cb()})).repeat(e.count);t.setTag(900),e.node.runAction(t)},tipsAction:function(e){var t=cc.sequence(cc.delayTime(2),cc.fadeOut(.3),cc.callFunc(function(){e.destroy()}));e.runAction(t)},breathe:function(e){e.stopActionByTag(951),e.setScale(1);var t=cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1)));t.setTag(951),e.runAction(t)},jumpForever:function(e){e.stopActionByTag(952);var t=cc.repeatForever(cc.sequence(cc.delayTime(2),cc.moveBy(.5,cc.v2(0,50)).easing(cc.easeIn(3)),cc.moveBy(.5,cc.v2(0,-50)).easing(cc.easeOut(3)),cc.delayTime(.1),cc.moveBy(.5,cc.v2(0,40)).easing(cc.easeIn(3)),cc.moveBy(.5,cc.v2(0,-40)).easing(cc.easeOut(3)),cc.delayTime(.1),cc.moveBy(.5,cc.v2(0,30)).easing(cc.easeIn(3)),cc.moveBy(.5,cc.v2(0,-30)).easing(cc.easeOut(3))));t.setTag(952),e.runAction(t)}};t.exports=i,cc._RF.pop()},{}],Audio:[function(e,t){"use strict";cc._RF.push(t,"a783eka4jhOV4zkTQLKyHvl","Audio");var i={playMusic:function(e,t){this._loadAudio(e,function(e,t){null==e&&cc.audioEngine.playMusic(t,!0)}.bind(this)),t&&this.setMusicVolume(t)},stopMusic:function(){cc.audioEngine.stopMusic()},setMusicVolume:function(e){cc.audioEngine.setMusicVolume(e)},setEffectsVolume:function(e){cc.audioEngine.setEffectsVolume(e)},playEffect:function(e,t){this._loadAudio(e),t&&this.setEffectsVolume(t)},_loadAudio:function(e,t){this._loadRaw("audio/"+e,t)},_loadRaw:function(e){cc.resources.load(e,cc.AudioClip,function(e,t){cc.audioEngine.playEffect(t,!1)})}};t.exports=i,cc._RF.pop()},{}],BulletRule:[function(e,t){"use strict";cc._RF.push(t,"c5f5bKI8ZFJpKZjb16elCrS","BulletRule");var i={time:0,bulletTime:0,parent:void 0,bulletNode:void 0,bullets:[],width:0,height:0,TIME_BULLET:3,bottomy:0,init:function(e){this.clear(),this.bottomy=e.bottomy,this.time=0,this.bulletTime=0,this.parent=e.parent,this.bulletNode=e.bulletNode,this.width=e.width,this.height=e.height},clear:function(){for(var e in this.bullets)this.bullets[e].die=!0,this.bullets[e].active=!1,this.bullets[e].destroy();this.bullets=[]},execute:function(e,t){if(this.time+=e,this.bulletTime+=1,this.bulletTime>=this.TIME_BULLET){this.bulletTime=0;for(var i=this._getBulletCount(),o=0;o<i;o++)this._createBullet({speedx:0,speedy:30,r:0,atk:1+Math.floor(Math.random()*g.gameData.atkRate),position:cc.v2(t.x+this._getOffsetBulletx(i,o),t.y+60)})}this._updateBullet()},setDie:function(e){e.died=!0,e.active=!1,e.removeFromParent(!1)},_getOffsetBulletx:function(e,t){return 10*-(e-1)+20*t},_getBulletCount:function(){var e=g.gameData.atkRate;return e>=50?7:e>=39?6:e>=29?5:e>=20?4:e>=12?3:e>=5?2:1},_createBullet:function(e){for(var t=void 0,i=0;i<this.bullets.length;i++)if(1==this.bullets[i].died){t=this.bullets[i];break}return t||(t=cc.instantiate(this.bulletNode),this.bullets.push(t)),t.setPosition(e.position),t.parent=this.parent,t.died=!1,t.active=!0,t.speedx=e.speedx,t.speedy=e.speedy,t.r=e.r,t.atk=e.atk,t},_updateBullet:function(){for(var e=0;e<this.bullets.length;e++){var t=this.bullets[e];t.died||(t.x+=t.speedx,t.y+=t.speedy,this._isout(t.x,t.y,t.r)&&this.setDie(t))}},_isout:function(e,t,i){return e<-i||e>this.width+i||t<-i||t>this.height+i}};t.exports=i,cc._RF.pop()},{}],Effect:[function(e,t){"use strict";cc._RF.push(t,"fae1bpHLPhNBqCJYgUbcEI9","Effect");var i=[cc.color(204,0,255),cc.color(0,156,255),cc.color(222,255,0),cc.color(255,192,0),cc.color(255,110,71),cc.color(71,71,255),cc.color(28,185,213),cc.color(101,254,104),cc.color(117,120,255),cc.color(235,167,255),cc.color(255,71,149),cc.color(129,45,255),cc.color(11,234,0)],o=[cc.v2(200,0),cc.v2(-200,0),cc.v2(0,200),cc.v2(0,-200),cc.v2(150,150),cc.v2(-150,-150),cc.v2(-150,150),cc.v2(150,-150),cc.v2(100,200),cc.v2(-100,-200),cc.v2(-100,200),cc.v2(100,-200),cc.v2(200,100),cc.v2(-200,-100),cc.v2(-200,100),cc.v2(200,-100)],n=function(e,t){e.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e.destroy()},this)))},a=cc.v2(0,1),c=function(e){var t=new cc.Node;return t.addComponent(cc.Sprite).spriteFrame=g.gameData.imgs.getSpriteFrame(e.img),t.color=e.color,t},s={createBomb:function(e){var t=i[Math.floor(Math.random()*i.length)],s=c({color:t,img:"circle"});s.scale=.4+.4*Math.random(),s.runAction(cc.sequence(cc.scaleTo(.3,2*s.scale),cc.fadeOut(.2))),n(s,.5),s.parent=e.parent,s.setPosition(e.position);for(var r=3+Math.floor(3*Math.random()),d=0;d<r;d++){var u=c({color:t,img:"white"}),g=o[Math.floor(Math.random()*o.length)],l=cc.v2(e.position.x+g.x,e.position.y+g.y);u.rotation=180*-g.signAngle(a)/Math.PI,u.runAction(cc.sequence(cc.spawn(cc.moveTo(.4,l),cc.scaleTo(.4,1,.2)),cc.fadeOut(.1))),n(u,.5),u.parent=e.parent,u.setPosition(e.position)}}};t.exports=s,cc._RF.pop()},{}],Equip:[function(e,t){"use strict";cc._RF.push(t,"39402yY/DpCyLIxUxM2PTSs","Equip"),t.exports={1:[{sid:16,type:1,coin:0,img:"",ui:"",x:0,y:0},{sid:17,type:1,coin:0,img:"game_bowknot",ui:"ui_bowknot",x:16.5,y:57.5},{sid:18,type:1,coin:6666,img:"game_hat",ui:"ui_hat",x:15,y:65}],2:[{sid:19,type:2,coin:0,img:"game_weapon_1",ui:"ui_weapon_1",x:0,y:-31},{sid:20,type:2,coin:0,img:"game_weapon_2",ui:"ui_weapon_2",x:0,y:-31},{sid:21,type:2,coin:6666,img:"game_weapon_3",ui:"ui_weapon_3",x:0,y:-31}]},cc._RF.pop()},{}],FruitRule:[function(e,t){"use strict";cc._RF.push(t,"e6ca9y1qF5B7ZFQHhaFRnhP","FruitRule");var i=["1@2x","2@2x","3@2x","4@2x","5@2x","6@2x"],o=[.25,.5,.7,.85,.95],n=[2,3,4,5],a={time:0,minute:0,parent:void 0,fruitNode:void 0,fruits:[],width:0,height:0,fruitActiveCount:0,bottomy:0,isBoss:!1,lastDieTime:[],lastDieIndex:0,init:function(e){this.clear(),this.bottomy=e.bottomy,this.time=0,this.minute=0,this.parent=e.parent,this.width=e.width,this.height=e.height,this.fruitNode=e.fruitNode,this.fruitActiveCount=0,this.isBoss=!1,this.lastDieTime=[-1e3,-1e3,-1e3,-1e3],this.lastDieIndex=0},clear:function(){for(var e in this.fruits)this.fruits[e].die=!0,this.fruits[e].active=!1,this.fruits[e].destroy();this.fruits=[],this.isBoss=!1},execute:function(e){if(this.time+=e,0==this.isBoss){this.minute=Math.floor(this.time/60);var t=n[this.minute]||5;this.fruitActiveCount<t&&Math.random()<.05&&this._createFruit({isBoss:!1,speedx:this._getSpeed(),speedy:this._getSpeed(),r:100,ay:this._getSpeedA(),ax:0,life:Math.floor(4*Math.random()+1),hp:this._getHp(),position:cc.v2(Math.random()<.5?-100:this.width+100,this.height*(.5+.5*Math.random())),speedTime:1+.5*Math.random(),maxy:this.height,img:i[Math.floor(Math.random()*i.length)]})}this._updateFruit(e)},bomb:function(){for(var e=0;e<this.fruits.length;e++){var t=this.fruits[e];t.died||(g.effect.createBomb({position:t.getPosition(),parent:this.parent}),this._setDie(t))}this.isBoss=!1},checkCreateBoss:function(){var e=g.gameData;1!=this.isBoss&&e.score>=e.bossLastScore&&1!=e.bossEntered[e.bossIndex]&&(this.isBoss=!0,e.bossEntered[e.bossIndex]=!0,e.bossIndex+=1,this._createFruit({isBoss:!0,speedx:1.5+Math.random(),speedy:1.5+Math.random(),r:200,ay:0,ax:0,life:1,hp:this._getHpBoss(),position:cc.v2(Math.random()<.5?-200:this.width+200,this.height*(.5+.5*Math.random())),speedTime:1+.5*Math.random(),maxy:this.height,img:"watermelon"}),1==e.bossIndex?e.bossLastScore=2e4:e.bossLastScore=3*e.bossLastScore,console.log("========== \u4e0b\u4e00\u4e2aboss\u7f16\u53f7:"+e.bossIndex),console.log("========== \u4e0b\u4e00\u4e2a\u51faboss\u5206\u6570:"+e.bossLastScore))},checkDie:function(e){if(e.died||e.dying)return!0;if(e.hp<=0){if(e.l_hp.string="",e.isBoss){e.dying=!0;var t=this;g.action.actionSwing(e,4,function(e){t._setDie(e),t.isBoss=!1})}else this._checkFission(e),this._setDie(e);return!0}return!1},reduceHp:function(e,t){if(e.hp>=t)return e.hp-=t,t;var i=e.hp;return e.hp=0,i},shake:function(e){if(!e.isBoss){e.img_icon.stopActionByTag(9800),e.img_icon.scale=1;var t=cc.sequence(cc.scaleTo(.1,.95,.95),cc.scaleTo(.1,1,1));t.setTag(9800),e.img_icon.runAction(t)}},_setDie:function(e){e.died=!0,e.active=!1,e.removeFromParent(!1),e.stopAllActions(),g.tool.shakePhone()},_checkFission:function(e){if(g.audio.playEffect("baozha"),g.effect.createBomb({position:e.getPosition(),parent:this.parent}),!(e.life<=1||e.isBoss)){e.life-=1;for(var t=0;t<2;t++)this._createFruit({isBoss:!1,speedx:this._getSpeed(),speedy:1.3*this._getSpeed(),r:100,ay:this._getSpeedA(),ax:0,life:e.life,hp:Math.max(Math.floor(.5*e.oldHp),1),position:cc.v2(e.x-20+Math.ceil(40*Math.random()),e.y-10+Math.ceil(20*Math.random())),speedTime:0,dirRight:0==t,dirTop:!0,maxy:this.height,img:e.img})}},_getHp:function(){var e,t=g.gameData,i=t.score;return e=i<1e4?t.fruitCount<=3?1+Math.ceil(10*Math.random()):.15*i+i*Math.random()*.05:i<3e4?.04*i+i*Math.random()*.03:i<6e4?.05*i+i*Math.random()*.03:.06*i+i*Math.random()*.02,Math.ceil(e)},_getHpBoss:function(){return Math.ceil(.25*g.gameData.score)},_getSpeed:function(){var e=g.gameData.score;return e<5e3?3+Math.random():e<1e4?3.1+Math.random():e<2e4?3.2+Math.random():e<3e4?3.3+Math.random():e<6e4?3.4+Math.random():e<9e4?3.5+Math.random():e<12e4?3.6+Math.random():e<2e5?3.7+Math.random():4+Math.random()},_getSpeedA:function(){var e=g.gameData.score;return e<5e3?.05+.05*Math.random():e<1e4?.06+.05*Math.random():e<2e4?.07+.05*Math.random():e<3e4?.08+.05*Math.random():e<6e4?.09+.05*Math.random():e<9e4?.1+.05*Math.random():e<12e4?.11+.05*Math.random():e<2e5?.12+.05*Math.random():.15+.05*Math.random()},_createFruit:function(e){for(var t=void 0,i=0;i<this.fruits.length;i++)if(1==this.fruits[i].died){t=this.fruits[i];break}return t||(t=cc.instantiate(this.fruitNode),this.fruits.push(t)),t.setPosition(e.position),t.parent=this.parent,t.died=!1,t.dying=!1,t.active=!0,t.time=0,t.speedx=Math.abs(e.speedx),t.speedy=Math.abs(e.speedy),t.dirRight=null==e.dirRight?e.position.x<320:e.dirRight,t.speedtmpx=t.dirRight?e.speedx:-e.speedx,t.speedtmpy=e.dirTop?e.speedy:-e.speedy,t.ax=Math.abs(e.ax),t.ay=Math.abs(e.ay),t.life=e.life,t.hp=e.hp,t.oldHp=e.hp,t.maxy=e.maxy,t.speedTime=e.speedTime,t.scale=1==e.isBoss?.75:o[e.life]||1,t.r=e.r*t.scale,t.img=e.img,t.isBoss=null!=e.isBoss&&e.isBoss,t.l_hp=t.getChildByName("l_hp").getComponent(cc.Label),t.img_icon=t.getChildByName("img_icon"),console.log("pngName: ",e),cc.loader.loadRes("newImg/"+e.img,function(e,i){if(!e){var o=new cc.SpriteFrame(i);t.img_icon.children[0].getComponent(cc.Sprite).spriteFrame=o}}),g.gameData.fruitCount+=1,t},_updateFruit:function(e){this.fruitActiveCount=0;for(var t=0;t<this.fruits.length;t++){var i=this.fruits[t];i.died||i.dying||(i.time+=e,i.time>=i.speedTime?(i.speedtmpy-=i.ay,i.y+=i.speedtmpy,i.x+=i.speedtmpx,i.x<=i.r?i.speedtmpx=i.speedx:i.x>=this.width-i.r?i.speedtmpx=-i.speedx:i.y<=i.r+this.bottomy?(i.y=i.r+this.bottomy,i.speedtmpy=3*i.speedy):i.y>=i.maxy&&(i.speedtmpy=-i.speedy)):i.x+=i.speedtmpx,i.l_hp.string=g.tool.score2string(i.hp),this.fruitActiveCount+=1)}}};t.exports=a,cc._RF.pop()},{}],GameData:[function(e,t){"use strict";cc._RF.push(t,"d142aWwLctKy7MMN9nwgCoj","GameData");var i={reset:function(){this.pause=!1,this.over=!1,this.score=0,this.gold=0,this.time=0,this.fruitCount=0,this.atkRate=1,this.isUseVideo=!1,this.isUseLife=!1,this.bossEntered=[],this.bossIndex=0,this.bossLastScore=5e3,this.BOSS_CHECK_SCORE_RATE=5e3},currDressId:16,currEquipId:19,shareTickets:void 0,gameOverShared:!1,life:0,imgs:void 0,uis:void 0,getStageByScore:function(e){return e>1e6?6:e>5e5?5:e>2e5?4:e>5e4?3:e>1e4?2:e>1e3?1:0},stageNames:["\u83dc\u9e21\u4e92\u5544","\u6700\u5f3a\u840c\u65b0","\u95ed\u5173\u82e6\u7ec3","\u4e00\u6ce2\u5e26\u8d70","\u7a7a\u624b\u767d\u5203","\u9ed1\u5e26\u5341\u6bb5"],stageImgs:["Lv1","Lv2","Lv3","Lv4","Lv5","Lv6"],getEquipDataByTypeId:function(e,t){var i=g.cfg.equip[""+e];for(var o in i)if(i[o].sid==t)return i[o]},signCoin:[300,600,1e3,1500,2e3,2500,3e3]};i.reset(),t.exports=i,cc._RF.pop()},{}],GameDefine:[function(e,t){"use strict";cc._RF.push(t,"4ef12DcvcJL/p3bXhTfBjv5","GameDefine"),console.log("GameDefine"),window.g={},g.wxMgr=e("WXMgr"),g.maoerduo=e("maoerduo"),g.cfg={},g.cfg.equip=e("Equip"),g.localData=e("LocalData"),g.layerMgr=e("LayerMgr"),g.prefabLoader=e("PrefabLoader"),g.effect=e("Effect"),g.tool=e("Tool"),g.action=e("Action"),g.audio=e("Audio"),g.gameData=e("GameData"),g.file=e("file"),g.scene=void 0,g.t_tips=void 0,g.wxScene=void 0,g.width=640,g.height=1136,g.iswx=null!=window.wx,g.MSG_GAME_CONTINUE="MSG_GAME_CONTINUE",g.MSG_WX_CLEAN="MSG_WX_CLEAN",g.MSG_WX_RANK_GROUP="MSG_WX_RANK_GROUP",g.MSG_WX_RANK_FRIEND="MSG_WX_RANK_FRIEND",g.MSG_WX_SAVE_DATA="MSG_WX_SAVE_DATA",g.MSG_WX_MY_INFO="MSG_WX_MY_INFO",g.dumpkey=function(e){for(var t in console.log("\u8f93\u51fa\u5bf9\u8c61\u7684key:"),e)console.log("    "+t);console.log("\u8f93\u51fa\u5bf9\u8c61\u7684key.")},cc._RF.pop()},{Action:"Action",Audio:"Audio",Effect:"Effect",Equip:"Equip",GameData:"GameData",LayerMgr:"LayerMgr",LocalData:"LocalData",PrefabLoader:"PrefabLoader",Tool:"Tool",WXMgr:"WXMgr",file:"file",maoerduo:"maoerduo"}],GameView:[function(e,t){"use strict";cc._RF.push(t,"dcd84UDAXRPHoCs0e8f/8xl","GameView");var i=e("FruitRule"),o=e("BulletRule"),n=e("ItemRule");cc.Class({extends:cc.Component,properties:{bulletNode:cc.Node,itemNode:cc.Node,fruitNode:cc.Node,roleNode:cc.Node,t_gold:cc.Node,t_atk:cc.Node,t_score:cc.Node,btn_bomb:cc.Node,img_tips:cc.Node,sp_bomb:cc.Node,t_bombcnt:cc.Node,coin:cc.SpriteFrame,btn_over:cc.Node,ic_ren:cc.Node},onLoad:function(){var e=this;this.nodebg=this.node.getChildByName("nodebg"),this.nodegame=this.node.getChildByName("nodegame"),this.nodeui=this.node.getChildByName("nodeui"),this.width=g.width,this.height=g.height,this.bottomy=30,this.uitime=10,this.bombCount=3,this.t_bombcnt.getComponent(cc.Label).string=""+this.bombCount,this.rolex=320,this.roley=this.bottomy+50,this.roleNode.r=55,this.roleNode.died=!1,this.roleNode.setPosition(this.rolex,this.roley),this.roleNode.x=this.rolex,this.btn_over.on(cc.Node.EventType.TOUCH_END,function(){window.opener=null,window.close()},this),this.node.on(cc.Node.EventType.TOUCH_START,function(t){e.rolex=t.getLocationX()},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){e.rolex=t.getLocationX()},this),this.btn_bomb.on(cc.Node.EventType.TOUCH_END,function(){e.bombCount<=0||g.gameData.pause||g.gameData.over||(e.bombCount-=1,e.t_bombcnt.getComponent(cc.Label).string=""+e.bombCount,i.bomb(),e.bombCount<=0&&(e.btn_bomb.active=!1))},e),o.init({bottomy:this.bottomy,parent:this.nodegame,bulletNode:this.bulletNode,width:this.width,height:this.height}),i.init({bottomy:this.bottomy,parent:this.nodegame,fruitNode:this.fruitNode,width:this.width,height:this.height}),n.init({bottomy:this.bottomy,parent:this.nodegame,itemNode:this.itemNode,width:this.width,height:this.height});var t=cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.3,1),cc.scaleTo(.3,1.2),cc.scaleTo(.3,1),cc.scaleTo(.3,1.2),cc.scaleTo(.3,1),cc.callFunc(function(e){e.active=!1}));this.img_tips.runAction(t),g.scene.on(g.MSG_GAME_CONTINUE,this.gameContinue,this),g.scene.on(cc.Node.EventType.CHILD_REMOVED,function(t){t.name==e.node.name&&(cc.log(">>>>>>>>>\u79fb\u9664\u7ee7\u7eed\u6e38\u620f\u76d1\u542c"),g.scene.off(g.MSG_GAME_CONTINUE,this.gameContinue,this))},this),g.wxMgr.showBanner()},start:function(){g.audio.stopMusic(),g.audio.playMusic("bgm",.3)},gameContinue:function(){i.clear(),o.clear(),n.clear(),g.gameData.pause=!1,g.gameData.over=!1,this.roleNode.died=!1},update:function(e){var t=g.gameData;if(this.t_gold.getComponent(cc.Label).string=""+Math.round(t.gold),this.t_atk.getComponent(cc.Label).string=""+Math.round(100*t.atkRate),this.t_score.getComponent(cc.Label).string=""+Math.round(t.score),!t.pause&&!t.over){if(t.time+=e,this.rolex=this.rolex<=this.roleNode.r?this.roleNode.r:this.rolex,this.rolex=this.rolex>=this.width-this.roleNode.r?this.width-this.roleNode.r:this.rolex,this.rolex>this.roleNode.x+50)for(var a=0;a<2;a++)this._moveRoleAddColl(25);else if(this.rolex<this.roleNode.x-50)for(var c=0;c<2;c++)this._moveRoleAddColl(-25);else this.roleNode.x=this.rolex;i.execute(e),n.execute(e,this.ic_ren),this.checkColl(),o.execute(e,cc.v2(this.rolex,this.roley))}},checkColl:function(){for(var e=0;e<o.bullets.length;e++){var t=o.bullets[e];0==t.died&&this._collFruitBullet(t)}this._collItemsRole(),this._collFruitRole()},_moveRoleAddColl:function(e){this.roleNode.x+=e,this._collItemsRole(),this._collFruitRole()},_collFruitBullet:function(e){for(var t=0;t<i.fruits.length;t++){var a=i.fruits[t];if(0==a.died&&this.collCyc2Point(a,e)){if(1!=a.dying){var c=g.gameData,s=Math.floor(c.score/c.BOSS_CHECK_SCORE_RATE);c.score=Math.round(c.score+i.reduceHp(a,e.atk)),i.checkDie(a)&&n.createByFruit(a,this.coin),Math.floor(c.score/c.BOSS_CHECK_SCORE_RATE)!=s&&i.checkCreateBoss()}return void o.setDie(e)}}},_collItemsRole:function(){for(var e=0;e<n.items.length;e++){var t=n.items[e];if(0==t.died&&t.y<=this.roley+this.roleNode.r+t.r&&this.collCyc2Cyc(t,this.roleNode)){n.setDie(t);var i=g.gameData;return i.atkRate+=t.extraData.atkRate,void(i.gold+=t.extraData.gold)}}},_collFruitRole:function(){if(!this.roleNode.died)for(var e=0;e<i.fruits.length;e++){var t=i.fruits[e];if(0==t.died&&1!=t.dying&&t.y<=this.roley+this.roleNode.r+t.r&&this.collCyc2Point(t,this.roleNode))return this.roleNode.died=!0,g.gameData.over=!0,g.gameData.pause=!0,g.layerMgr.addLayer({name:"prefabs/LoseView",clean:!1,action:!1,zorder:10}),void g.audio.playEffect("siwang")}},collCyc2Cyc:function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)<=(e.r+t.r)*(e.r+t.r)},collCyc2Point:function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)<=e.r*e.r},showGuiZe:function(){g.layerMgr.addLayer({name:"prefabs/GuiZeView",clean:!1,action:!1})}}),cc._RF.pop()},{BulletRule:"BulletRule",FruitRule:"FruitRule",ItemRule:"ItemRule"}],GuiZeView:[function(e,t){"use strict";cc._RF.push(t,"a4f3cianthAj4iv5wE+qTcK","GuiZeView"),cc.Class({extends:cc.Component,properties:{btn_close:cc.Node},onLoad:function(){this.btn_close.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.removeLayer("prefabs/GuiZeView"),g.audio.playEffect("anniu")},this)},start:function(){}}),cc._RF.pop()},{}],ItemRule:[function(e,t){"use strict";cc._RF.push(t,"5e4c9YFkONPGIPbmKCfEWZD","ItemRule");var i={time:0,parent:void 0,itemNode:void 0,items:[],width:0,height:0,life:0,bottomy:0,init:function(e){this.clear(),this.bottomy=e.bottomy,this.time=0,this.parent=e.parent,this.itemNode=e.itemNode,this.width=e.width,this.height=e.height},clear:function(){for(var e in this.items)this.items[e].die=!0,this.items[e].active=!1,this.items[e].destroy();this.items=[]},createByFruit:function(e,t){e.isBoss?this._createByBoss(e,t):this._createByFruit(e,null,t)},_createByFruit:function(e,t,i){for(var o=t||1+Math.floor(4*Math.random()),n=0;n<o;n++){var a=Math.random(),c={};a<.3?(c.gold=1,c.atkRate=0,c.img=i):a<.7?(c.gold=0,c.atkRate=.1,c.img=i):(c.gold=0,c.atkRate=.2,c.img=i),this._createItem({speedx:3*Math.random(),speedy:2+Math.random(),r:20,ay:.3+.2*Math.random(),ax:0,dirRight:Math.random()<.5,position:cc.v2(e.x+20*Math.random()-10,e.y+20*Math.random()-10),maxy:e.y,lifeTime:8+4*Math.random(),extraData:c})}},_createByBoss:function(e,t){var i=this;g.action.repeateDo({node:e,intervalTime:3.8/18,count:18,cb:function(){i._createByFruit(e,3,t)}})},execute:function(e,t){this.time+=e;for(var i=0;i<this.items.length;i++){var o=this.items[i];if(!o.died){var n=t.position.add(cc.v3(-10,0,0)).sub(o.position);if(n.mag()<6e3*e){this.setDie(o);var a=g.gameData;return a.atkRate+=o.extraData.atkRate,void(a.gold+=o.extraData.gold)}var c=n.normalize().mul(3e3*e);o.position=o.position.add(c)}}},setDie:function(e){e.died=!0,e.active=!1,e.removeFromParent(!1)},_createItem:function(e){for(var t=void 0,i=0;i<this.items.length;i++)if(1==this.items[i].died){t=this.items[i];break}return t||(t=cc.instantiate(this.itemNode),this.items.push(t)),t.setPosition(e.position),t.r=e.r,t.lifeTime=e.lifeTime,t.parent=this.parent,t.died=!1,t.active=!0,t.stopMove=!1,t.time=0,t.speedx=Math.abs(e.speedx),t.speedy=Math.abs(e.speedy),t.dirRight=e.dirRight,t.speedtmpx=t.dirRight?e.speedx:-e.speedx,t.speedtmpy=e.speedy,t.ax=Math.abs(e.ax),t.ay=Math.abs(e.ay),t.extraData=e.extraData,t.hint=!1,t.img_icon=t.getChildByName("img_icon").getComponent(cc.Sprite),t.img_icon.spriteFrame=e.extraData.img,t.stopActionByTag(900),t.opacity=255,t}};t.exports=i,cc._RF.pop()},{}],LayerMgr:[function(e,t){"use strict";cc._RF.push(t,"050e1OJ855MKrxVv2WmJh+7","LayerMgr");var i={layerInfo:{},addLayer:function(e){i.removeLayer(e.name),g.prefabLoader.create(e.name,function(t){if(console.log("addLayer:create:"+e.name),g.scene.addChild(t,e.zorder||0),0!=e.action){t.setScale(.4);var o=cc.scaleTo(.3,1).easing(cc.easeBackOut());t.runAction(o)}0!=e.clean&&i.removeAll(),i.layerInfo[e.name]=t})},removeLayer:function(e){i.layerInfo[e]&&(i.layerInfo[e].destroy(),i.layerInfo[e]=void 0)},removeAll:function(){for(var e in console.log("removeAll"),i.layerInfo)console.log("\u5220\u9664removeAll-"+e),i.layerInfo[e]&&i.layerInfo[e].destroy(),i.layerInfo[e]=void 0;i.layerInfo={}}};t.exports=i,cc._RF.pop()},{}],LifeView:[function(e,t){"use strict";cc._RF.push(t,"8a78cTY8TFApZZHAfLjGPxC","LifeView"),cc.Class({extends:cc.Component,properties:{t_life:cc.Node,btn_home:cc.Node,btn_friend:cc.Node,btn_video:cc.Node,btn_skip:cc.Node},onLoad:function(){var e=this;g.gameData,e._updateUi(),e.btn_friend.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.maoerduo.shareGame(function(){g.gameData.life+=1,g.localData.setLife(g.gameData.life),e._updateUi(),sdk.dot("\u590d\u6d3b\u5361\u754c\u9762-\u5206\u4eab\u9886\u53d6")})},e),e.btn_video.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.wxMgr.showVideoAd(function(t){t&&(g.gameData.life+=1,g.localData.setLife(g.gameData.life),e._updateUi(),sdk.dot("\u590d\u6d3b\u5361\u754c\u9762-\u770b\u89c6\u9891\u9886\u53d6"))})},e),e.btn_home.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.addLayer({name:"prefabs/MainView",clean:!0,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u590d\u6d3b\u5361\u754c\u9762-\u56de\u5230\u9996\u9875")},e),e.btn_skip.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.removeLayer("prefabs/LifeView"),g.audio.playEffect("anniu"),sdk.dot("\u590d\u6d3b\u5361\u754c\u9762-\u8df3\u8fc7")},e)},start:function(){sdk.dot("\u8fdb\u5165\u590d\u6d3b\u5361\u754c\u9762")},_updateUi:function(){this.t_life.getComponent(cc.Label).string="X "+g.gameData.life}}),cc._RF.pop()},{}],LocalData:[function(e,t){"use strict";cc._RF.push(t,"c1ac6g27+dMO65oqRIhvSEj","LocalData");var i={get:function(e,t){var i=cc.sys.localStorage.getItem(e);return console.log("   \u83b7\u53d6\u6570\u636e:key="+e+"  ; _v="+i+"  ; _default="+t),null==i||""==i?(console.log("   undefined--"),t):i},set:function(e,t){cc.log("save : "+e+":"+t),cc.sys.localStorage.setItem(e,t)},isHaveDressById:function(e,t){return i.get("USER_DressId"+e,t)},isHaveEquipById:function(e,t){return i.get("USER_EquipId"+e,t)},setDressById:function(e){this.set("USER_DressId"+e,e)},setEquipById:function(e){this.set("USER_EquipId"+e,e)},setCurrDressById:function(e){this.set("USER_currDressId",e)},setCurrEquipById:function(e){this.set("USER_currEquipId",e)},getCurrDressById:function(){return this.get("USER_currDressId",16)},getCurrEquipById:function(){return this.get("USER_currEquipId",19)},setLife:function(e){this.set("USER_LIFE",e)},getLife:function(){return this.get("USER_LIFE",0)},setEquipByData:function(e){1==e.type?this.setDressById(e.sid):this.setEquipById(e.sid)},setEquipBySid:function(e){var t=function(e){for(var t in g.cfg.equip){var i=g.cfg.equip[t];for(var o in i)if(e==i[o].sid)return i[o]}}(e);t&&(1==t.type?this.setDressById(t.sid):this.setEquipById(t.sid))},setStageLv:function(e){this.set("StageLevel",e)},getStageLv:function(){return this.get("StageLevel",0)}};t.exports=i,cc._RF.pop()},{}],LoseView:[function(e,t){"use strict";cc._RF.push(t,"94d4dq6Yl1BKLkk0Y38oLmW","LoseView"),cc.Class({extends:cc.Component,properties:{btn_uselife:cc.Node,btn_video:cc.Node,t_life:cc.Node,t_score:cc.Node,btn_skip:cc.Node,btn_over:cc.Node},onLoad:function(){var e=this,t=g.gameData;this.t_life.getComponent(cc.Label).string="X "+t.life,this.t_score.getComponent(cc.Label).string=""+t.score,t.isUseLife?this.btn_uselife.active=!1:this.btn_uselife.on(cc.Node.EventType.TOUCH_END,function(){t.life>0&&(t.life-=1,t.isUseLife=!0,e.btn_uselife.dispatchEvent(new cc.Event.EventCustom(g.MSG_GAME_CONTINUE,!0)),g.layerMgr.removeLayer("prefabs/LoseView")),sdk.dot("\u5931\u8d25-\u590d\u6d3b\u5361\u590d\u6d3b"),g.audio.playEffect("anniu")},this),t.isUseVideo?this.btn_video.active=!1:this.btn_video.on(cc.Node.EventType.TOUCH_END,function(){t.isUseVideo=!0,g.wxMgr.showVideoAd(function(t){t&&(e.btn_video.dispatchEvent(new cc.Event.EventCustom(g.MSG_GAME_CONTINUE,!0)),g.layerMgr.removeLayer("prefabs/LoseView"),g.audio.playEffect("anniu"),sdk.dot("\u5931\u8d25-\u89c6\u9891\u590d\u6d3b"))})},this),this.btn_skip.on(cc.Node.EventType.TOUCH_END,function(){g.gameData.reset(),g.layerMgr.addLayer({name:"prefabs/GameView",clean:!0,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u7ed3\u7b97-\u91cd\u5f00")},this),this.btn_over.on(cc.Node.EventType.TOUCH_END,function(){window.opener=null,window.close()},this);var i=g.localData.getStageLv(),o=g.gameData.getStageByScore(t.score);o>i&&g.localData.setStageLv(o)},start:function(){sdk.dot("\u8fdb\u5165\u5931\u8d25\u754c\u9762")}}),cc._RF.pop()},{}],MainView:[function(e,t){"use strict";cc._RF.push(t,"be200emiRVFgIA3aMKZcjDa","MainView"),cc.Class({extends:cc.Component,properties:{btn_rank_friend:cc.Node,btn_rank_group:cc.Node,btn_skin:cc.Node,btn_stage:cc.Node,btn_more:cc.Node,btn_start:cc.Node,btn_double_start:cc.Node,t_loginTips:cc.Node},_initUi:function(){this.inited||(null==g.wxMgr.AD_VIDEO_ID?this.btn_double_start.active=!1:this.btn_double_start.active=!0,this.inited=!0,this.btn_start.on(cc.Node.EventType.TOUCH_END,function(){g.gameData.reset(),g.layerMgr.addLayer({name:"prefabs/GameView",clean:!0,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u9996\u9875-\u5f00\u59cb\u6e38\u620f")},this),this.btn_double_start.on(cc.Node.EventType.TOUCH_END,function(){g.iswx&&(g.audio.playEffect("anniu"),g.wxMgr.showVideoAd(function(e){e&&(g.gameData.reset(),g.gameData.atkRate=2,g.layerMgr.addLayer({name:"prefabs/GameView",clean:!0,action:!1}),sdk.dot("\u9996\u9875-\u5f00\u59cb\u6e38\u620f-\u53cc\u500d"))}))},this),this.btn_rank_friend.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.layerMgr.addLayer({name:"prefabs/RankFriendView",clean:!1,action:!1}),sdk.dot("\u9996\u9875-\u597d\u53cb\u6392\u884c")},this),this.btn_rank_group.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.maoerduo.shareGame(function(e){e&&(g.gameData.shareTickets=e,g.layerMgr.addLayer({name:"prefabs/RankGroupView",clean:!1,action:!1}),sdk.dot("\u9996\u9875-\u7fa4\u6e38\u620f"))})},this),this.btn_skin.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.addLayer({name:"prefabs/SkinView",clean:!1,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u9996\u9875-\u76ae\u80a4")},this),this.btn_stage.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.addLayer({name:"prefabs/StageView",clean:!1,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u9996\u9875-\u79f0\u53f7")},this),this.btn_more.on(cc.Node.EventType.TOUCH_END,function(){this.moreGameInfo&&(g.wxMgr.toOtherGame(this.moreGameInfo),sdk.dot("\u9996\u9875-\u70b9\u51fb\u66f4\u591a\u6e38\u620f"))},this),this._showMoreGame(),g.action.jumpForever(this.btn_more))},showSign:function(){if(1==g.maoerduo.data.gameInfo.gshareType){var e=parseInt(g.localData.get("SIGN_DAY",0)),t=g.tool.getTimeYMD();parseInt(t)>parseInt(e)&&(g.localData.set("SIGN_DAY",t),g.layerMgr.addLayer({name:"prefabs/SignView",clean:!1,action:!1}))}},start:function(){this.btn_double_start.active=!1,g.audio.stopMusic(),g.audio.playMusic("bgm",.3),this.moreGameInfo=void 0,this.btn_more.active=!1,this.t_loginTips.active=!1,g.iswx&&1!=g.maoerduo.isLogin?this.login():this._initUi(),g.wxMgr.hideBanner(),sdk.dot("\u8fdb\u5165\u9996\u9875")},login:function(){var e=this;g.wxMgr.init(),g.wxMgr.updateGameVersioin(),null==g.wxMgr.wx.openId&&(e.t_loginTips.active=!0,g.action.breathe(e.t_loginTips)),g.wxMgr.login(function(){e.loginServer()})},loginServer:function(){var e=this;e.loginTimer&&(clearTimeout(e.loginTimer),e.loginTimer=null);var t=g.tool.createTips("\u767b\u5f55\u4e2d...");g.maoerduo.login(function(){t.destroy(),e._initUi(),g.wxMgr.wx.openId=null,e.t_loginTips.active=!1})},_showMoreGame:function(){var e=g.maoerduo.data;if(e.moreGames&&e.moreGames.length>0){this.btn_more.active=!0;var t=Math.floor(Math.random()*e.moreGames.length),i=e.moreGames[t];g.tool.setUrlImg(this.btn_more.getComponent(cc.Sprite),i.mgImageUrl),this.moreGameInfo=i}else this.btn_more.active=!1}}),cc._RF.pop()},{}],OverShareView:[function(e,t){"use strict";cc._RF.push(t,"871f3hos9tBe45NvGAlG7zu","OverShareView"),cc.Class({extends:cc.Component,properties:{btn_ok:cc.Node,btn_close:cc.Node},onLoad:function(){this.btn_ok.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.maoerduo.shareGame(function(){g.layerMgr.removeLayer("prefabs/OverShareView")})},this),this.btn_close.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.removeLayer("prefabs/OverShareView"),g.audio.playEffect("anniu")},this)},start:function(){g.gameData.gameOverShared=!0}}),cc._RF.pop()},{}],PrefabLoader:[function(e,t){"use strict";cc._RF.push(t,"a7894+kVINPvKABblLUWfnU","PrefabLoader");var i={create:function(e,t){console.log("\u52a0\u8f7d\u9884\u5236\u4f53:"+e),cc.loader.loadRes(e,function(i,o){i?console.log("\u52a0\u8f7d:"+e+"\u5931\u8d25"):t(cc.instantiate(o))})},createToNode:function(e,t,i){this.create(e,function(e){t.addChild(e),i&&i(e)})}};t.exports=i,cc._RF.pop()},{}],RankFriendView:[function(e,t){"use strict";cc._RF.push(t,"f119dVxXKNJ1YNnw4tDqOcq","RankFriendView"),cc.Class({extends:cc.Component,properties:{WXSUB:cc.Node,btn_home:cc.Node,btn_ok:cc.Node,btn_skip:cc.Node},onLoad:function(){g.wxMgr.adapterSub(this.WXSUB),this.count=0,this.texture=new cc.Texture2D,this.WXSUB_SP=this.WXSUB.getComponent(cc.Sprite),g.wxMgr.postWXSubMsg({msg:g.MSG_WX_RANK_FRIEND}),this.btn_home.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.layerMgr.removeLayer("prefabs/RankFriendView"),g.wxMgr.postWXSubMsg({msg:g.MSG_WX_CLEAN})},this),this.btn_ok.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.maoerduo.shareGame(function(e){e&&(g.gameData.shareTickets=e,g.layerMgr.removeLayer("prefabs/RankFriendView"),g.layerMgr.addLayer({name:"prefabs/RankGroupView",clean:!1,action:!1}))})},this),this.btn_skip.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.layerMgr.removeLayer("prefabs/RankFriendView"),g.wxMgr.postWXSubMsg({msg:g.MSG_WX_CLEAN})},this),this.WXSUB.setLocalZOrder(1),g.wxMgr.showBanner()},onDestroy:function(){g.wxMgr.hideBanner()},start:function(){},update:function(){g.iswx&&(this.count+=1,this.count%2==0&&(this.texture.initWithElement(wx.getOpenDataContext().canvas),this.texture.handleLoadedTexture(),this.WXSUB_SP.spriteFrame=new cc.SpriteFrame(this.texture)))}}),cc._RF.pop()},{}],RankGroupView:[function(e,t){"use strict";cc._RF.push(t,"52e20lvHItDMI7PqMoe3WPv","RankGroupView"),cc.Class({extends:cc.Component,properties:{WXSUB:cc.Node,btn_home:cc.Node,btn_ok:cc.Node},onLoad:function(){g.wxMgr.adapterSub(this.WXSUB),this.count=0,this.texture=new cc.Texture2D,this.WXSUB_SP=this.WXSUB.getComponent(cc.Sprite),this.btn_home.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.layerMgr.removeLayer("prefabs/RankGroupView"),g.wxMgr.postWXSubMsg({msg:g.MSG_WX_CLEAN})},this),this.btn_ok.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.layerMgr.removeLayer("prefabs/RankGroupView"),g.wxMgr.postWXSubMsg({msg:g.MSG_WX_CLEAN})},this),this.WXSUB.setLocalZOrder(1),g.wxMgr.postWXSubMsg({msg:g.MSG_WX_RANK_GROUP,shareTickets:g.gameData.shareTickets}),g.wxMgr.showBanner()},onDestroy:function(){g.wxMgr.hideBanner()},start:function(){},update:function(){g.iswx&&(this.count+=1,this.count%2==0&&(this.texture.initWithElement(wx.getOpenDataContext().canvas),this.texture.handleLoadedTexture(),this.WXSUB_SP.spriteFrame=new cc.SpriteFrame(this.texture)))}}),cc._RF.pop()},{}],Role:[function(e,t){"use strict";cc._RF.push(t,"6a2c3PN1ulIcKkjYBjiOhc9","Role"),cc.Class({extends:cc.Component,properties:{weapon:cc.Node,cat:cc.Node,equip_hat:cc.Node},onLoad:function(){},start:function(){this.currDressId=g.localData.getCurrDressById(),this.currEquipId=g.localData.getCurrEquipById(),this.dressData=g.gameData.getEquipDataByTypeId(1,this.currDressId),this.equipData=g.gameData.getEquipDataByTypeId(2,this.currEquipId),cc.log("1111111111this.dressData"),cc.log(this.dressData),cc.log(this.equipData),this.equip_hat.setPosition(this.dressData.x,this.dressData.y),this.weapon.setPosition(this.equipData.x,this.equipData.y)}}),cc._RF.pop()},{}],SettleView:[function(e,t){"use strict";cc._RF.push(t,"223f3aum2lIFLeimf7jD7yx","SettleView"),cc.Class({extends:cc.Component,properties:{t_score:cc.Node,t_info:cc.Node,btn_share1:cc.Node,btn_share2:cc.Node,btn_restart:cc.Node,btn_saveimg:cc.Node,btn_home:cc.Node,btn_life:cc.Node,img_stage:cc.Node,IMG:cc.Node},onLoad:function(){var e=this,t=g.gameData;e.t_score.getComponent(cc.Label).string=""+t.score;var i;i=t.score<1e6?Math.ceil(t.score/1e6*90):90+Math.floor(10*Math.random()),e.t_info.getComponent(cc.Label).string="\u6253\u8d25\u5168\u4e16\u754c"+i+"%\u7684\u73a9\u5bb6",e.btn_share1.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.maoerduo.shareGame(),sdk.dot("\u7ed3\u7b97-\u5206\u4eab1")},e),e.btn_share2.on(cc.Node.EventType.TOUCH_END,function(){g.audio.playEffect("anniu"),g.maoerduo.shareGame(),sdk.dot("\u7ed3\u7b97-\u5206\u4eab2")},e),e.btn_restart.on(cc.Node.EventType.TOUCH_END,function(){g.gameData.reset(),g.layerMgr.addLayer({name:"prefabs/GameView",clean:!0,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u7ed3\u7b97-\u91cd\u5f00")},e),e.btn_saveimg.on(cc.Node.EventType.TOUCH_END,function(){console.log("\u4fdd\u5b58\u56fe\u7247"),g.audio.playEffect("anniu");var t=g.wxMgr.toTempFilePathSync(e.IMG);g.wxMgr.saveImageToPhotosAlbum(t,function(e){e&&(g.tool.showTips("\u4fdd\u5b58\u6210\u529f"),sdk.dot("\u7ed3\u7b97-\u4fdd\u5b58\u56fe\u7247"))})},e),e.btn_life.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.addLayer({name:"prefabs/LifeView",clean:!1,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u7ed3\u7b97-\u67e5\u770b\u590d\u6d3b\u5361")},e),e.btn_home.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.addLayer({name:"prefabs/MainView",clean:!0,action:!1}),g.audio.playEffect("anniu"),sdk.dot("\u7ed3\u7b97-\u56de\u9996\u9875")},e),g.layerMgr.addLayer({name:"prefabs/OverShareView",clean:!1,action:!1}),g.audio.playEffect("jiesuan"),g.maoerduo.updateCoin(t.gold),g.maoerduo.updateScore(t.score),g.wxMgr.submitGameScoreToWX(t.score)},start:function(){var e=g.gameData,t=e.getStageByScore(e.score);this.img_stage.getComponent(cc.Sprite).spriteFrame=t>0?e.imgs.getSpriteFrame(e.stageImgs[t-1]):e.imgs.getSpriteFrame(e.stageImgs[0]),sdk.dot("\u8fdb\u5165\u7ed3\u7b97\u754c\u9762")}}),cc._RF.pop()},{}],SignView:[function(e,t){"use strict";cc._RF.push(t,"f6191pU44BFFo/8xobEvRwh","SignView");var i=null;cc.Class({extends:cc.Component,properties:{node_sign:cc.Node,node_gain:cc.Node,btn_sign:cc.Node,btn_share:cc.Node,btn_close:cc.Node,t_coin:cc.Node},onLoad:function(){(i=this).singIndex=parseInt(g.localData.get("SIGN_CURR_INDEX",0));var e=i.singIndex+1;e>6&&(e=0),g.localData.set("SIGN_CURR_INDEX",e),i.node_sign.active=!0,i.node_gain.active=!1,i.cells=[];for(var t=0;t<7;t++)i.cells[t]={},i.cells[t].img=i.node_sign.getChildByName("img_sign"+(t+1)),i.cells[t].t=i.node_sign.getChildByName("t_sign"+(t+1)),i.cells[t].t.getComponent(cc.Label).string=""+g.gameData.signCoin[t],i.cells[t].img.active=t<i.singIndex,i.cells[t].t.active=!0;i.t_coin.getComponent(cc.Label).string="X"+g.gameData.signCoin[i.singIndex],i.isSigned=!1},start:function(){var e=new Date;console.log(e),console.log(e.getFullYear()),console.log((Array(2).join("0")+(e.getMonth()+1)).slice(-2)),console.log(e.getDate())},onButtonTouch:function(e,t){if("close"==t)g.maoerduo.updateCoin(g.gameData.signCoin[i.singIndex]),g.layerMgr.removeLayer("prefabs/SignView");else if("sign"==t){if(i.isSigned)return;i.isSigned=!0,i.node_sign.active=!1,i.node_gain.active=!0}else"share"==t&&g.maoerduo.shareGame(function(e){e&&g.maoerduo.updateCoin(3*g.gameData.signCoin[i.singIndex]),g.layerMgr.removeLayer("prefabs/SignView")})}}),cc._RF.pop()},{}],SkinView:[function(e,t){"use strict";cc._RF.push(t,"d146agnuhNEQYtw+VsTeR+O","SkinView"),cc.Class({extends:cc.Component,properties:{btn_home:cc.Node,btn_close:cc.Node,btn_equip1:cc.Node,btn_equip2:cc.Node,f_equip:cc.Node,list_content:cc.Node,t_gold:cc.Node},onLoad:function(){this.btn_home.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.addLayer({name:"prefabs/MainView",clean:!0,action:!1}),g.audio.playEffect("anniu")},this),this.btn_close.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.removeLayer("prefabs/SkinView"),g.audio.playEffect("anniu")},this),this.btn_equip1.on(cc.Node.EventType.TOUCH_END,function(){this.showDress(),g.audio.playEffect("anniu")},this),this.btn_equip2.on(cc.Node.EventType.TOUCH_END,function(){this.showEquip(),g.audio.playEffect("anniu")},this),this.serverPropIds=g.maoerduo.data.propIds,this.list_h=90,this.list_gap=5,this.selectIndex=1,g.wxMgr.showBanner()},onDestroy:function(){g.wxMgr.hideBanner()},start:function(){this.showDress()},showDress:function(){this.t_gold.getComponent(cc.Label).string=""+g.maoerduo.data.gameUserInfo.coin||0,this.selectIndex=1,this.btn_equip1.getComponent(cc.Sprite).spriteFrame=g.gameData.uis.getSpriteFrame("UI37"),this.btn_equip2.getComponent(cc.Sprite).spriteFrame=g.gameData.uis.getSpriteFrame("UI39"),this.list_content.removeAllChildren();for(var e=g.cfg.equip[1],t=0,i=0;i<e.length;i++){var o=e[i];1==o.type&&this.serverPropIds[o.sid]&&(this._createItems({parent:this.list_content,position:cc.v2(0,-(this.list_h+this.list_gap)*(.5+t)),data:o}),t+=1)}this.list_content.setContentSize(cc.size(500,Math.max((this.list_h+this.list_gap)*t,570)))},showEquip:function(){this.t_gold.getComponent(cc.Label).string=""+g.maoerduo.data.gameUserInfo.coin||0,this.selectIndex=2,this.btn_equip1.getComponent(cc.Sprite).spriteFrame=g.gameData.uis.getSpriteFrame("UI40"),this.btn_equip2.getComponent(cc.Sprite).spriteFrame=g.gameData.uis.getSpriteFrame("UI38"),this.list_content.removeAllChildren();for(var e=g.cfg.equip[2],t=0,i=0;i<e.length;i++){var o=e[i];2==o.type&&this.serverPropIds[o.sid]&&(this._createItems({parent:this.list_content,position:cc.v2(0,-(this.list_h+this.list_gap)*(.5+t)),data:o}),t+=1)}this.list_content.setContentSize(cc.size(500,Math.max((this.list_h+this.list_gap)*t,570)))},_createItems:function(e){var t=cc.instantiate(this.f_equip),i=t.getChildByName("t_info").getComponent(cc.Label);t.getChildByName("img_head").getComponent(cc.Sprite).spriteFrame=g.gameData.imgs.getSpriteFrame(e.data.ui),i.string=this.serverPropIds[e.data.sid].pname,t.setPosition(e.position),e.parent.addChild(t),this._updateButton(t,e)},_updateButton:function(e,t){var i=this.serverPropIds[t.data.sid],o=e.getChildByName("btn_ok"),n=o.getChildByName("t_gold").getComponent(cc.Label);n.string="";var a=-1,c=!1;1==t.data.type?(a=g.localData.isHaveDressById(t.data.sid,-1),c=t.data.sid+""==g.gameData.currDressId+""):(a=g.localData.isHaveEquipById(t.data.sid,-1),c=t.data.sid+""==g.gameData.currEquipId+""),-1==a?1==i.pcurrencyType?(o.getComponent(cc.Sprite).spriteFrame=g.gameData.uis.getSpriteFrame("anniu"),n.string=i.pprice):2==i.pcurrencyType?o.getComponent(cc.Sprite).spriteFrame=null:3==i.pcurrencyType&&(o.getComponent(cc.Sprite).spriteFrame=g.gameData.uis.getSpriteFrame("UI52")):o.getComponent(cc.Sprite).spriteFrame=1==c?g.gameData.uis.getSpriteFrame("UI54"):g.gameData.uis.getSpriteFrame("UI51"),this._addClick(e,t,c,a)},_addClick:function(e,t,i,o){var n=this,a=n.serverPropIds[t.data.sid];e.getChildByName("btn_ok").on(cc.Node.EventType.TOUCH_END,function(){if(g.audio.playEffect("anniu"),-1==o)if(1==a.pcurrencyType){console.log("========\u8d2d\u4e70\u88c5\u5907"),console.log(g.maoerduo.data.gameUserInfo);var e=t;g.maoerduo.buyProp(a.id,function(t){t?n._gain(e):g.tool.showTips("\u8d2d\u4e70\u5931\u8d25!")})}else 2==a.pcurrencyType||3==a.pcurrencyType&&g.wxMgr.showVideoAd(function(e){e&&g.maoerduo.buyProp(a.id,function(e){var i=t;e&&n._gain(i)})});else-1!=o&&0==i&&(1==t.data.type?(g.localData.setCurrDressById(t.data.sid),g.gameData.currDressId=t.data.sid):(g.localData.setCurrEquipById(t.data.sid),g.gameData.currEquipId=t.data.sid));2==n.selectIndex?n.showEquip():n.showDress()},n)},_gain:function(e){g.localData.setEquipByData(e.data),2==this.selectIndex?this.showEquip():this.showDress()}}),cc._RF.pop()},{}],StageView:[function(e,t){"use strict";cc._RF.push(t,"02dfbOmEVFJxrbvhytRlkao","StageView"),cc.Class({extends:cc.Component,properties:{btn_home:cc.Node,btn_r:cc.Node,btn_l:cc.Node,t_stage:cc.Node,t_page:cc.Node,btn_saveImg:cc.Node,img_stage:cc.Node,IMG:cc.Node,btn_skip:cc.Node},onLoad:function(){var e=this;e.stageLv=g.localData.getStageLv(),e.selectIndex=1,e.btn_home.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.removeLayer("prefabs/StageView"),g.audio.playEffect("anniu")},e),e.btn_l.on(cc.Node.EventType.TOUCH_END,function(){e._selectStage(e.selectIndex-1),g.audio.playEffect("anniu")},e),e.btn_r.on(cc.Node.EventType.TOUCH_END,function(){e._selectStage(e.selectIndex+1),g.audio.playEffect("anniu")},e),e.btn_saveImg.on(cc.Node.EventType.TOUCH_END,function(){console.log("\u4fdd\u5b58\u56fe\u7247"),g.audio.playEffect("anniu");var t=g.wxMgr.toTempFilePathSync(e.IMG);g.wxMgr.saveImageToPhotosAlbum(t,function(e){e&&g.tool.showTips("\u4fdd\u5b58\u6210\u529f")})},e),e.btn_skip.on(cc.Node.EventType.TOUCH_END,function(){g.layerMgr.removeLayer("prefabs/StageView"),g.audio.playEffect("anniu")},e),e._selectStage(1)},start:function(){},_selectStage:function(e){var t=g.gameData;e<1||e>t.stageNames.length||(this.selectIndex=e,this.t_stage.getComponent(cc.Label).string="LV."+e+":"+t.stageNames[e-1],this.t_page.getComponent(cc.Label).string=e+"/"+t.stageNames.length,this.stageLv>=e?this.img_stage.getComponent(cc.Sprite).spriteFrame=t.imgs.getSpriteFrame(t.stageImgs[e-1]):this.img_stage.getComponent(cc.Sprite).spriteFrame=t.uis.getSpriteFrame("mark"))}}),cc._RF.pop()},{}],Tool:[function(e,t){"use strict";cc._RF.push(t,"4e3a8j6NBVBmbBtZXzQNXWF","Tool");var i={score2string:function(e){return e>1e9?(e/1e9).toFixed(1)+"B":e>1e6?(e/1e6).toFixed(1)+"M":e>1e3?(e/1e3).toFixed(1)+"K":""+e},shakePhone:function(){console.log("\u9707\u52a8\u624b\u673a"),window.wx&&wx.vibrateShort()},showTips:function(e){var t=cc.instantiate(g.t_tips);t.parent=g.scene,t.setPosition(0,0),t.getChildByName("t_tips").getComponent(cc.Label).string=e,g.action.tipsAction(t)},createTips:function(e){var t=cc.instantiate(g.t_tips);return t.parent=g.scene,t.setPosition(0,0),t.getChildByName("t_tips").getComponent(cc.Label).string=e,t},setUrlImg:function(e,t){if(t&&""!=t&&window.wx){var i=wx.createImage();i.onload=function(){var t=new cc.Texture2D;t.initWithElement(i),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t)},i.src=t}},getTimeYMD:function(){var e=new Date,t=(Array(2).join("0")+(e.getMonth()+1)).slice(-2),i=(Array(2).join("0")+e.getDate()).slice(-2);return parseInt(e.getFullYear()+t+i)}};t.exports=i,cc._RF.pop()},{}],WXMgr:[function(e,t){"use strict";var i;cc._RF.push(t,"d225d9F3ahHgpa5uh9m00QY","WXMgr");var o=((i={wx:{code:null,openId:null,encryptedData:null,iv:null,channel:""},deviceInfo:null,benchmarkLevel:0,userInfoButton:null,AD_BANNER_ID:null,AD_VIDEO_ID:null,ad_banner:null,banner_loaded:!1,video_loaded:!1,video_callback:null,ad_video:null,gameClubButton:null,init:function(){var e=wx.getStorageSync("wx_open_id");this.wx.openId=e&&""!=e?e:null},login:function(e){this.deviceInfo=wx.getSystemInfoSync(),"android"==this.deviceInfo.platform&&(this.benchmarkLevel=this.deviceInfo.benchmarkLevel),wx.showShareMenu({withShareTicket:!0,success:function(){},fail:function(){},complete:function(){}}),wx.updateShareMenu({withShareTicket:!0,success:function(){},fail:function(){},complete:function(){}}),wx.onShareAppMessage(function(){return g.maoerduo.getShareGameInfo()}),null!=this.wx.openId?this._login(e):this._loginAuthorize(e)},_login:function(e){var t=this;wx.login({withCredentials:!0,timeout:16e3,success:function(i){console.log("========= \u4ec5\u767b\u5f55\u7ed3\u679c ========="),console.log(i),t.wx.code=i.code,wx.getUserInfo({success:function(i){console.log(" ========= wx.getUserInfo"),console.log(i),t.wx.encryptedData=i.encryptedData,t.wx.iv=i.iv,t.wx.channel=t._getChannelId(),e&&e()}})}})},_loginAuthorize:function(e){var t=this;wx.login({withCredentials:!0,timeout:16e3,success:function(i){console.log("========= \u767b\u5f55\u7ed3\u679c ========="),console.log(i),t.wx.code=i.code,t.userInfoButton=t.userInfoButton||wx.createUserInfoButton({withCredentials:!0,type:"text",text:"",style:{left:0,top:0,width:t.deviceInfo.screenWidth,height:t.deviceInfo.screenHeight}}),t.userInfoButton.show(),t.userInfoButton.onTap(function(i){console.log("========= \u6388\u6743\u7ed3\u679c ========="),console.log(i),-1!=i.errMsg.indexOf("ok")?(t.wx.encryptedData=i.encryptedData,t.wx.iv=i.iv,t.wx.channel=t._getChannelId(),t.userInfoButton.hide(),e&&e()):t.userInfoButton.show()})}})},_getChannelId:function(){var e=wx.getLaunchOptionsSync();return e&&e.referrerInfo&&e.referrerInfo.appId?e.referrerInfo.appId:""},loadWorldRankData:function(){},sharedCanvas:function(){return wx.getOpenDataContext().canvas},postWXSubMsg:function(e){g.iswx&&wx.getOpenDataContext().postMessage(e)},submitGameScoreToWX:function(e){this.postWXSubMsg({msg:g.MSG_WX_SAVE_DATA,score:e})},updateGameVersioin:function(){if("function"==typeof wx.getUpdateManager){var e=wx.getUpdateManager();e.onCheckForUpdate(function(){}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){})}},showGameClubButton:function(e){this.gameClubButton?e?this.gameClubButton.show():this.gameClubButton.hide():(this.gameClubButton=wx.createGameClubButton({icon:"green",style:{left:this.deviceInfo.screenWidth-44-32,top:50,width:32,height:32}}),this.showGameClubButton(e))},getNetworkType:function(e){wx.getNetworkType({success:function(t){var i=t.networkType;e&&e(i)}})},toOtherGame:function(e){var t=null;e.mgExtraData&&e.mgExtraData.length>0&&(t=JSON.parse(e.mgExtraData)),window.wx&&wx.navigateToMiniProgram({appId:e.mgAppId,path:e.mgPath,extraData:t,success:function(){},fail:function(){}})},saveImageToPhotosAlbum:function(e,t){wx.saveImageToPhotosAlbum({filePath:e,success:function(){t&&t(!0)},fail:function(){t&&t(!1)}})},toTempFilePathSync:function(e){var t=e.convertToWorldSpace(cc.p(0,0)),i=cc.view.getFrameSize(),o=cc.winSize,n=i.width/o.width/.5,a=e.getContentSize();console.log("=====winSize:"),console.log(o),console.log("=====frameSize:"),console.log(i),console.log("=====worldPos:"),console.log(t),console.log("=====_size:"),console.log(a),console.log("value:"+n);var c=a.width*n,s=a.height*n,r=t.x*n,d=(o.height-t.y)*n-s;return canvas.toTempFilePathSync({x:r,y:d,width:c,height:s,destWidth:a.width,destHeight:a.height})},previewImage:function(e,t){wx.previewImage({current:e,urls:t,success:function(){},fail:function(){}})}}).previewImage=function(){wx.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(){},fail:function(){}})},i.createBannerAd=function(e){var t=this;null!=e&&""!=e&&null==t.AD_BANNER_ID&&(t.AD_BANNER_ID=e,console.log("\u6a2a\u5e45\u5e7f\u544aid : "+e),t.ad_banner=wx.createBannerAd({adUnitId:t.AD_BANNER_ID,style:{left:0,top:0,width:.6*cc.view.getFrameSize().width}}),t.ad_banner.onResize(function(e){var i=t.ad_banner.style;i.top=cc.view.getFrameSize().height-e.height,i.left=(cc.view.getFrameSize().width-e.width)/2}),t.banner_loaded=!0)},i.showBanner=function(){this.banner_loaded&&this.ad_banner&&this.ad_banner.show()},i.hideBanner=function(){this.banner_loaded&&this.ad_banner&&this.ad_banner.hide()},i.createVideoAd=function(e){null!=e&&""!=e&&null==this.AD_VIDEO_ID&&(this.AD_VIDEO_ID=e,console.log("\u89c6\u9891\u5e7f\u544aid : "+e),this.ad_video=wx.createRewardedVideoAd({adUnitId:this.AD_VIDEO_ID}),this.ad_video.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),this.ad_video.load(),this.ad_video.onError(function(){}))},i.showVideoAd=function(e){var t=this;null!=t.AD_VIDEO_ID&&""!=t.AD_VIDEO_ID?(t.video_callback=e,wx.showModal({title:"\u63d0\u793a",content:"\u64ad\u653e\u5b8c\u6574\u89c6\u9891,\u53ef\u9886\u53d6\u5956\u52b1!",showCancel:!0,success:function(e){e.confirm?(t.ad_video.show().catch(function(e){console.log("show\u89c6\u9891\u5e7f\u544a\u663e\u793a\u9519\u8bef\u4fe1\u606f:"+e),t.ad_video.load(),t.video_callback&&t.video_callback(!1),g.tool.showTips("\u89c6\u9891\u64ad\u653e\u5931\u8d25!")}),t.ad_video.onClose(function(e){e&&e.isEnded||void 0===e?(t.video_callback&&t.video_callback(!0),sdk.dot("\u89c6\u9891-\u64ad\u653e\u5b8c\u6bd5")):(t.video_callback&&t.video_callback(!1),sdk.dot("\u89c6\u9891-\u4e2d\u9014\u5173\u95ed")),t.video_callback=null})):(t.video_callback&&t.video_callback(!1),sdk.dot("\u89c6\u9891-\u53d6\u6d88\u64ad\u653e"))},fail:function(){t.video_callback&&t.video_callback(!1),sdk.dot("\u89c6\u9891-\u53d6\u6d88\u64ad\u653e")}})):e(!1)},i.adapterSub=function(e){var t=e.getContentSize(),i=Math.floor(t.width*(this.deviceInfo.screenHeight/this.deviceInfo.screenWidth));e.setContentSize(cc.size(t.width,i))},i);t.exports=o,cc._RF.pop()},{}],file:[function(e,t){"use strict";cc._RF.push(t,"1dc5eQZPNhDc5dR+LosVbvo","file");var i={getLocal:function(e,t){var i=cc.sys.localStorage.getItem(e);return""==i||null==i?t:i},setLocal:function(e,t){null!=t&&null!=t&&""!=t&&cc.sys.localStorage.setItem(e,t)},getLocalJson:function(e,t){var i=cc.sys.localStorage.getItem(e);return""==i||null==i?t:JSON.parse(i)},setLocalJson:function(e,t){if(null!=t&&null!=t&&""!=t){var i=JSON.stringify(t);cc.sys.localStorage.setItem(e,i)}}};t.exports=i,cc._RF.pop()},{}],init:[function(e,t){"use strict";cc._RF.push(t,"3fe44rbSZ5McKXSxCEi3ElB","init"),cc.Class({extends:cc.Component,properties:{first_ani:cc.Node},start:function(){var t=this;e("GameDefine"),g.scene=this.node.getChildByName("node05"),g.t_tips=this.node.getChildByName("t_tips"),g.wxScene=this.node.getChildByName("img_wx"),g.gameData.life=g.localData.getLife(),console.log(" \u5f53\u524d\u751f\u547d:"+g.gameData.life),g.localData.setDressById(16),g.localData.setEquipById(19),g.gameData.currDressId=g.localData.getCurrDressById(),g.gameData.currEquipId=g.localData.getCurrEquipById(),g.localData.setCurrDressById(g.gameData.currDressId),g.localData.setCurrEquipById(g.gameData.currEquipId),cc.log("\u88c5\u5907id:"+g.gameData.currEquipId),cc.log("\u5916\u89c2id:"+g.gameData.currDressId);var i=g.localData.get("FirstPlay");window.wx&&1!=i?(this.first_ani.active=!0,this.first_ani.getComponent(sp.Skeleton).animation="newAnimation",this.first_ani.getComponent(sp.Skeleton).setCompleteListener(function(){g.localData.set("FirstPlay",!0),t.scheduleOnce(function(){this.first_ani.destroy()},.1),t.enterGame()},this)):(this.first_ani.active=!1,this.first_ani.destroy(),this.enterGame())},enterGame:function(){cc.loader.loadRes("img/imgs",cc.SpriteAtlas,function(e,t){g.gameData.imgs=t}),cc.loader.loadRes("img/ui",cc.SpriteAtlas,function(e,t){g.gameData.uis=t,g.layerMgr.addLayer({name:"prefabs/GameView",clean:!0,action:!1})})}}),cc._RF.pop()},{GameDefine:"GameDefine"}],maoerduo:[function(e,t){"use strict";function i(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function o(e,t,o,n,a,c){return i((s=i(i(t,e),i(n,c)))<<(r=a)|s>>>32-r,o);var s,r}function n(e,t,i,n,a,c,s){return o(t&i|~t&n,e,t,a,c,s)}function a(e,t,i,n,a,c,s){return o(t&n|i&~n,e,t,a,c,s)}function c(e,t,i,n,a,c,s){return o(t^i^n,e,t,a,c,s)}function s(e,t,i,n,a,c,s){return o(i^(t|~n),e,t,a,c,s)}function r(e){for(var t=1732584193,o=-271733879,r=-1732584194,d=271733878,u=0;u<e.length;u+=16){var g=t,l=o,h=r,p=d;t=n(t,o,r,d,e[u+0],7,-680876936),d=n(d,t,o,r,e[u+1],12,-389564586),r=n(r,d,t,o,e[u+2],17,606105819),o=n(o,r,d,t,e[u+3],22,-1044525330),t=n(t,o,r,d,e[u+4],7,-176418897),d=n(d,t,o,r,e[u+5],12,1200080426),r=n(r,d,t,o,e[u+6],17,-1473231341),o=n(o,r,d,t,e[u+7],22,-45705983),t=n(t,o,r,d,e[u+8],7,1770035416),d=n(d,t,o,r,e[u+9],12,-1958414417),r=n(r,d,t,o,e[u+10],17,-42063),o=n(o,r,d,t,e[u+11],22,-1990404162),t=n(t,o,r,d,e[u+12],7,1804603682),d=n(d,t,o,r,e[u+13],12,-40341101),r=n(r,d,t,o,e[u+14],17,-1502002290),t=a(t,o=n(o,r,d,t,e[u+15],22,1236535329),r,d,e[u+1],5,-165796510),d=a(d,t,o,r,e[u+6],9,-1069501632),r=a(r,d,t,o,e[u+11],14,643717713),o=a(o,r,d,t,e[u+0],20,-373897302),t=a(t,o,r,d,e[u+5],5,-701558691),d=a(d,t,o,r,e[u+10],9,38016083),r=a(r,d,t,o,e[u+15],14,-660478335),o=a(o,r,d,t,e[u+4],20,-405537848),t=a(t,o,r,d,e[u+9],5,568446438),d=a(d,t,o,r,e[u+14],9,-1019803690),r=a(r,d,t,o,e[u+3],14,-187363961),o=a(o,r,d,t,e[u+8],20,1163531501),t=a(t,o,r,d,e[u+13],5,-1444681467),d=a(d,t,o,r,e[u+2],9,-51403784),r=a(r,d,t,o,e[u+7],14,1735328473),t=c(t,o=a(o,r,d,t,e[u+12],20,-1926607734),r,d,e[u+5],4,-378558),d=c(d,t,o,r,e[u+8],11,-2022574463),r=c(r,d,t,o,e[u+11],16,1839030562),o=c(o,r,d,t,e[u+14],23,-35309556),t=c(t,o,r,d,e[u+1],4,-1530992060),d=c(d,t,o,r,e[u+4],11,1272893353),r=c(r,d,t,o,e[u+7],16,-155497632),o=c(o,r,d,t,e[u+10],23,-1094730640),t=c(t,o,r,d,e[u+13],4,681279174),d=c(d,t,o,r,e[u+0],11,-358537222),r=c(r,d,t,o,e[u+3],16,-722521979),o=c(o,r,d,t,e[u+6],23,76029189),t=c(t,o,r,d,e[u+9],4,-640364487),d=c(d,t,o,r,e[u+12],11,-421815835),r=c(r,d,t,o,e[u+15],16,530742520),t=s(t,o=c(o,r,d,t,e[u+2],23,-995338651),r,d,e[u+0],6,-198630844),d=s(d,t,o,r,e[u+7],10,1126891415),r=s(r,d,t,o,e[u+14],15,-1416354905),o=s(o,r,d,t,e[u+5],21,-57434055),t=s(t,o,r,d,e[u+12],6,1700485571),d=s(d,t,o,r,e[u+3],10,-1894986606),r=s(r,d,t,o,e[u+10],15,-1051523),o=s(o,r,d,t,e[u+1],21,-2054922799),t=s(t,o,r,d,e[u+8],6,1873313359),d=s(d,t,o,r,e[u+15],10,-30611744),r=s(r,d,t,o,e[u+6],15,-1560198380),o=s(o,r,d,t,e[u+13],21,1309151649),t=s(t,o,r,d,e[u+4],6,-145523070),d=s(d,t,o,r,e[u+11],10,-1120210379),r=s(r,d,t,o,e[u+2],15,718787259),o=s(o,r,d,t,e[u+9],21,-343485551),t=i(t,g),o=i(o,l),r=i(r,h),d=i(d,p)}return[t,o,r,d]}function d(e){for(var t="",i=0;i<4*e.length;i++)t+="0123456789abcdef".charAt(e[i>>2]>>i%4*8+4&15)+"0123456789abcdef".charAt(e[i>>2]>>i%4*8&15);return t}function u(e){for(var t=1+(e.length+8>>6),i=new Array(16*t),o=0;o<16*t;o++)i[o]=0;for(o=0;o<e.length;o++)i[o>>2]|=(255&e.charCodeAt(o))<<o%4*8;return i[o>>2]|=128<<o%4*8,i[16*t-2]=8*e.length,i}cc._RF.push(t,"5290b24oxNCq5KtkX5Ki9Db","maoerduo"),t.exports={hexMD5:function(e){return d(r(u(e)))}};var l={data:{appId:"",gameUserInfo:{openId:"",coin:0,diamonds:0,maxScore:0,userBags:[]},gameInfo:{},props:[],propIds:[],moreGames:[],shareContents:[],rewardAdProps:[],rewardAdCurrency:{}},gameAppId:"wx2bd09f823a8e9357",isLogin:!1,login:function(e){var t=this;t.data.appId=this.gameAppId,t._loginGame(function(){t._loginUserInfo(e)})},_updateUserInfo:function(){this.data.gameUserInfo.diamonds=this.getDiamonds(),this.data.gameUserInfo.maxScore=0,this.data.gameUserInfo.openId=null,this.data.gameUserInfo.coin=this.getCoin(),this.data.gameUserInfo.reviewCard=0,this.data.gameUserInfo.userBags=[]},_loginUserInfo:function(e){g.wxMgr.wx,this._updateUserInfo(),g.maoerduo.isLogin=!0,window.wx&&wx.setStorageSync("wx_open_id",this.data.gameUserInfo.openId),e&&e()},_loginGame:function(e){this.data.moreGames=[],this.data.props=[{id:16,pcurrencyType:1,pdesc:"\u65e0\u4f69\u6234",pexpiresIn:-1,piconUrl:"img",pname:"\u65e0\u4f69\u6234",pprice:0},{id:17,pcurrencyType:3,pdesc:"\u8774\u8776\u7ed3",pexpiresIn:-1,piconUrl:"img",pname:"\u8774\u8776\u7ed3",pprice:-1},{id:18,pcurrencyType:1,pdesc:"\u9b54\u672f\u5e3d",pexpiresIn:-1,piconUrl:"img",pname:"\u9b54\u672f\u5e3d",pprice:6666},{id:19,pcurrencyType:1,pdesc:"\u521d\u53f7\u673a",pexpiresIn:-1,piconUrl:"img",pname:"\u521d\u53f7\u673a",pprice:0},{id:20,pcurrencyType:3,pdesc:"\u7f8e\u56fd\u961f\u957f",pexpiresIn:-1,piconUrl:"img",pname:"\u7f8e\u56fd\u961f\u957f",pprice:-1},{id:21,pcurrencyType:1,pdesc:"\u70bd\u5929\u4f7f",pexpiresIn:-1,piconUrl:"img",pname:"\u70bd\u5929\u4f7f",pprice:6666}],this.data.gameInfo={gactivityCurrencySplashImage:"",gactivityIconCurrency:"",gactivityIconProp:"",gactivityPropSplashImage:"",gactivityType:-1,gbannerAdId:"adunit-7acee0958697072c",gextraData:"",grewardAdId:"adunit-4894bff2291ed8e2",gshareType:1,gtodayNewUserCount:0,guserCount:0,gyesterdayNewUserCount:0},this.data.shareContents=[{simageUrl:"https://mmbiz.qpic.cn/mmbiz_jpg/eMYWWlEkgMPeJyQC4Z9a1HHica0fapTtm5Yk8obzDjzrPpwG5DBafkiarX7uvQpJqFpqlH56csmibc6VXwa6VibDgg/0?wx_fmt=jpeg",stitle:"\u94f2\u5c4e\u5b98\uff0c\u4f60\u600e\u4e48\u8fd8\u4e0d\u6765\u89c1\u6715"},{simageUrl:"https://mmbiz.qpic.cn/mmbiz_jpg/eMYWWlEkgMPeJyQC4Z9a1HHica0fapTtm5C7cnkFBQibBoXR0YumqM6Mn2Pk5iaWx19EeNnYThqdn4vJWrZR4JHZQ/0?wx_fmt=jpeg",stitle:"\u662f\u5144\u5f1f\uff0c\u5c31\u6765\u5c04\u7206\u6211"},{simageUrl:"https://mmbiz.qpic.cn/mmbiz_jpg/eMYWWlEkgMPeJyQC4Z9a1HHica0fapTtmEcQUFEwcmDEjmBRLHba834BAEkIfMISpvdtfU3zZvIKkjvhm4yVkag/0?wx_fmt=jpeg",stitle:"\u8fd9\u6e38\u620f\u771f\u597d\u73a9"}],this.data.rewardAdProps=null,this.data.rewardAdCurrency=null,this.data.propIds={};for(var t=0;t<this.data.props.length;t++){var i=this.data.props[t];this.data.propIds[i.id]=i}g.wxMgr.createBannerAd(this.data.gameInfo.gbannerAdId),g.wxMgr.createVideoAd(this.data.gameInfo.grewardAdId),e&&e()},updateCoin:function(e){var t=g.file.getLocal("server_updateCoin",0);t+=e,g.file.setLocal("server_updateCoin",t)},getCoin:function(){return g.file.getLocal("server_updateCoin",0)},updateDiamonds:function(e){var t=g.file.getLocal("server_updateDiamonds",0);t+=e,g.file.setLocal("server_updateDiamonds",t)},getDiamonds:function(){return g.file.getLocal("server_updateDiamonds",0)},updateScore:function(e){g.wxMgr.submitGameScoreToWX(e),e>g.file.getLocal("server_updateScore",0)&&g.file.setLocal("server_updateScore",e)},getScore:function(){return g.file.getLocal("server_updateScore",0)},buyProp:function(e,t){this.getCoin()>=this.data.propIds[e].pprice?(this.updateCoin(-this.data.propIds[e].pprice),t&&t(!0)):t&&t(!1)},showMoreGame:function(){if(this.data.moreGames.length>0){for(var e=this.data.moreGames.length,t=Math.floor(Math.random()*e),i=[],o=0;o<this.data.moreGames.length;o++)i.push(this.data.moreGames[o].mgImageUrl);var n={current:t+"",urls:i};window.wx&&wx.previewImage(n)}},shareGame:function(e,t){if(console.log(" >> shareGame \u51c6\u5907\u5206\u4eab"),this.data.shareContents.length>0){var i=this.data.shareContents.length,o=Math.floor(Math.random()*i),n=this.data.shareContents[o];console.log(n),window.wx&&wx.shareAppMessage({title:n.stitle,imageUrl:n.simageUrl,success:function(t){t.shareTickets&&t.shareTickets.length>0?e&&e(t.shareTickets[0]):e&&e(null)},fail:function(){t&&t()}})}},getShareGameInfo:function(){if(this.data.shareContents.length>0){var e=this.data.shareContents.length,t=Math.floor(Math.random()*e),i=this.data.shareContents[t];return{title:i.stitle,imageUrl:i.simageUrl}}return null},listTop100:function(){}};t.exports=l,cc._RF.pop()},{}],sdk:[function(e,t){"use strict";cc._RF.push(t,"04460r1L/NPaJinC3ZZa+Do","sdk"),window.sdk={dot:function(){window.wx},share:function(){window.wx}},cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"5f397cLhuBIPbJo+vV4e3V7","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}]},{},["use_v2.0.x_cc.Toggle_event","GameData","GameDefine","Equip","GameView","GuiZeView","LifeView","LoseView","MainView","OverShareView","RankFriendView","RankGroupView","Role","SettleView","SignView","SkinView","StageView","init","BulletRule","FruitRule","ItemRule","sdk","Action","Audio","Effect","LayerMgr","LocalData","PrefabLoader","Tool","WXMgr","file","maoerduo"]);